<!DOCTYPE html>
<html>
<head>
  <script src="cordova.js"></script>
  <script>
    document.addEventListener("deviceready", onDeviceReady, false);
    function onDeviceReady() {
        document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
  var permissions = cordova.plugins.permissions;
  permissions.hasPermission(permissions.CAMERA, checkPermissionCallback, null);

  function checkPermissionCallback(status) {
    if(!status.hasPermission) {
      var errorCallback = function() {
        alert('Camera permission is not turned on');
      }

      permissions.requestPermission(
        permissions.CAMERA,
        function(status) {
          if(!status.hasPermission) errorCallback();
        },
        errorCallback);
    }
  }
  window.plugins.sim.getSimInfo(successCallback, errorCallback);
}

function successCallback(result) {
  alert(JSON.stringify(result));
}

function errorCallback(error) {
  console.log(error);
}

// Android only: check permission
function hasReadPermission() {
  window.plugins.sim.hasReadPermission(successCallback, errorCallback);
}

// Android only: request permission
function requestReadPermission() {
  window.plugins.sim.requestReadPermission(successCallback, errorCallback);
}
    }
  </script>
</head>
<body>
  <button onclick="window.location='index.html';">reload</button>
</body>
</html>
